How to Install Centos 7 on Dell Precision
-----------------------------------------
I had a number of problems installing CentOS 7 on my Dell Precision 3530 laptop

Fixes to get the graphical centos 7 installer to work:
 A) Set the hard drive had to be set to AHCI (in the bios)
 B) add module_blacklist settings to the installer (so it works with the Intel graphics card)
 C) Secure boot does not matter.  Centos 7 works either way



References
----------
https://docs.centos.org/en-US/centos/install-guide/Trouble-x86/#sect-trouble-beginning-installation-x86



Procedure
---------
 1. Create a USB drive with the centos 7 distribution
    a. Download an ISO
    b. Burn the iso to a USB drive

 2. Change the BIOS settings so that the hard drive is in AHCI mode
    a. Press FN-F2 repeatedly on startup to get to BIOS
    b. Change System configuration to use AHCI
			Click on System Configuration
			Click on Sata Operation
			-- Set it to AHCI

 3. Boot from the flash drive (containing the Centos 7 installation)
    Press FN-F12 repeatedly on startup to boot from USB drive
    Select the UEFI: Flash Drive

 4. On the Install Centos 7 menu, add some custom installation settings
    a. Use the up/down arrows to stop the 3-second timer
    b. Highlight "Install CentOS 7" and press e

       You should see:
          setparams 'Install CentOS 7'

          linuxefi /images/pxeboot/vmlinuz inst.image2=hd:LABEL=CentOS\x207\x20x86_64 quiet
          initrdefi /images/pgxeboot/initrd.img

       Change this line:
           linuxefi /images/pxeboot/vmlinuz inst.image2=hd:LABEL=CentOS\x207\x20x86_64 quiet

       To this:
            linuxefi /images/pxeboot/vmlinuz inst.image2=hd:LABEL=CentOS\x207\x20x86_64 quiet module_blacklist=nouveau,amdgpu,radeon i915.alpha_support=1

    c. Press Ctrl-X to start


     -- Now, you should see the graphics installer


 5. Proceed with the usual installation


 6. After Reboot, you will see the CentOS Linux menu
    a. Press the up/down arrow (to stop the timer)
    b. Press the up/down arrow so that you highlight the 1st entry
    c. Press e

    d. Adjust the line with some additional settings

       You should see a long line that looks like this:
          linuxefi /vmlinuz-3.10.0-1127.el7.x86_64 root=/dev/mapper/luks-abcdefg ro crashkernel=auto.....rhgb quiet LANG=en_US.UTF-8

     At the end of this line, add this to it:
          linuxefi /vmlinuz-3.10.0-1127.el7.x86_64 root=/dev/mapper/luks-abcdefg ro crashkernel=auto.....rhgb quiet LANG=en_US.UTF-8 module_blacklist=nouveau,amdgpu,radeon i915.alpha_support=1


    e. Press Ctrl-x  (to start)




  7. Proceed with the usual Centos 7 Install




  8. Wrapup Centos 7 Install
     a. Click on Licensing / License Information
        -- Click "I accept the license agreement"
        -- Press Done
     b. Click "Finish Configuration"

  9. You should see the login screen
     a. Click on your username
     b. Enter your password

 10. Adjust Grub so that it hads those settings every time you startup Centos 7
     a. unix> su -
        unix> vi /etc/default/grub

             # If you see GRUB_CMDLINE_LINUX_DEFAULT, then add this to the end of the line
             # If you do not see GRUB_CMDLINE_LINUX_DEFAULT, then add this entry
             GRUB_CMDLINE_LINUX_DEFAULT=" module_blacklist=nouveau,amdgpu,radeon i915.alpha_support=1 "


     b. Rebuild the grub boot loader
        1. Find your grub.cfg
           unix> find / -type f -name "grub.cfg"

        2. Rebuild the grub boot loader
           unix> grub2-mkconfig -o  <path of above >

           Possible examples:
             unix> grub2-mkconfig -o /boot/grub2/grub.cfg
             *OR*
             unix> grub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg


     c. Reboot your operating system (with the additional settings applied)
        unix> reboot


11. On startup, let Centos 7 startup automatically
    -- You should see the Login screen
