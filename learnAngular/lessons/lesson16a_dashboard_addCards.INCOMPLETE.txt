Lesson:  Add Dashboard Page
---------------------------
Approach: The Dashboard is a layout of angular mat-cards

The BreakpointObserver can detect these:
    XSmall (599.99px or less)
    Small  (600 - 959.99px)
    Medium (960 - 1279.99px)
    Large  (1280 - 1919.99px)
    XLarge (1920px or greater)
	


Create a page with this format

+-------------------------------------+
| Page Title             Page Options |                                            angular flex row1 
+-------------------------------------+
| card1         card2           card3 |  <mat-grid-list>....</mat-grid-list>       angular flex row2
| card4         card5           card6 |  <mat-grid-list>....</mat-grid-list> 
+-------------------------------------+


 card1 through card3 is in one mat-grid-tile with 

So, the page uses angular flex with two rows
 1) angular flex row1 holds the page title and page options
 2) angular flex row2 holds two rows
    <mat-grid-List>
	   card1 
	   card2
	   card3
	</mat-grid-list>
 
    <mat-grid-List>
	   card4
	   card5
	   card6
	</mat-grid-list>
 
   Each grid list looks like this:
        <mat-grid-list [cols]="this.totalColumns" rowHeight="400px">
		</mat-grid-list>
		
   
   Each card will look like this:
       <mat-grid-tile colspan="1" rowspan="1">
          <mat-card>
            <mat-card-content class="iev-card-content">

              <!-- Chart 1:  Pie Chart showing something -->
              <div id="chart1" style="width: 100%; height: 100%"></div>

            </mat-card-content>
          </mat-card>
	  </mat-grid-tile>
	  

Procedure
---------
 1. Create the dashboard component
    unix> cd ~/intellijProjects/angularApp1/frontend
	unix> ng generate component dashboard


 2. Add a route to the new page (within app.module.ts)
    a. Edit app.modules.ts
	b. Add this line to the routes
  		{ path: 'page/dashboard',    component: DashboardComponent },

	  
 3. Add a link to the dashboards (from the navbar)
    a. Edit navbar.component.html
	b. After the "Upload Report" link, add this:
		
      <!-- Dashboard Page  -->
      <mat-list-item class="navItem" [routerLink]="'page/dashboard'" routerLinkActive="active">
        <a title="Dashboard">Dashboard</a>
        <div fxFlex fxLayoutAlign="end end" >
          <a [routerLink]="'page/dashboard'" target="_blank">
            <i class="fas fa-external-link-alt navItemIcon" title="Open 'Dashboard' a new window"></i>
          </a>
        </div>
      </mat-list-item>

4. Verify that the dashboard page works in the navbar


2. On the dashboard.component.ts
   a. Inject the breakpointObserver
   
   constructor(private breakpointObserver: BreakpointObserver) 
   { }
  
   
   
   b. In the ngOnInit(), we will subscribe to the breakpointObserver
     	public totalColumns: number;
     	private cardLayoutSubscription: Subscription;

		ngOnInit(): void {

				this.cardLayoutSubscription = this.breakpointObserver.observe(
					  [Breakpoints.XLarge, Breakpoints.Large, Breakpoints.Medium, Breakpoints.Small, Breakpoints.XSmall])
					  .subscribe((state: BreakpointState) => {
						if ((state.breakpoints[Breakpoints.XSmall]) || (state.breakpoints[Breakpoints.Small])) {
						  // The browser is Small or XSmall -- so reduce the number of columns to 1
						  this.totalColumns = 1;
						} else if (state.breakpoints[Breakpoints.Medium]) {
						  // The browser is Medium -- so set columns to 2
						  this.totalColumns = 2;
						} else {
						  // The browser is larger or greater -- so set the columns to 3
						  this.totalColumns = 3;
						}
					  });
		}
		
   
   c. Make sure you unsubscribe from the cardLayoutSubscription

		  ngOnDestroy(): void {
			// Unsubscribe from the subscription (to avoid memory leaks)
			this.cardLayoutSubscription.unsubscribe();
          }
		  
