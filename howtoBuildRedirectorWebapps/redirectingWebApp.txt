Redirector webapps
------------------
Redirector webapps are handy for 2 specific situations:
 1) The case when you rename your webapp
 
    Suppose you create a webapp found here:
      http://www.mycompany.com/trackHours
    
    Then, you decide to rename your web application do this:
      http://www.mycompany.com/trackTime
      
    Users who have your old web app bookmarked will get a 404-not-found error.

 2) The case when you are upgrading your webapp and the upgrade process takes more than 30 minutes
    Users who visit your old website (while the upgrade is in progress) could see errors
    Instead, we want to redirect users to a 'upgrade-in-progress' page
    


The Solution: 
 a) Create a redirector webapp called trackHours.war
 b) This trackHours.war file will use urlRewrite to redirect users to the new site
 
 
 
 
How to create a redirector webapp
---------------------------------
ASSUMPTIONS:
  A) You have a destination web page located here
        http://localhost:8080/upgradeInProgress.html
        
  B) You want users who visit any where in trackHours to be redirected to the
     updateInProgress.html page
     
     

Create your updateInProgress.html page on your github site
----------------------------------------------------------

1) Create a destination web page

2) Use the UrlRewrite jar

urlrewrite.xml
--------------


<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE urlrewrite PUBLIC "-//tuckey.org//DTD UrlRewrite 3.2//EN"  "http://tuckey.org/res/dtds/urlrewrite3.2.dtd">


<urlrewrite use-context="true" use-query-string="true">
  
    <rule match-=type="regex">
      <from>^(.*)/sourceWebApp/(.*)$</from>
      <to type="permanent-redirect">$1/destWebApp/$2</to>
    </rule>
</urlrewrite>




Create a simple webapp
  
  WAR/index.jsp is a basic web page <html><body>hi</body></html>
  
  WAR/WEB-INF/lib/urlrewrite-3.2.0.jar
  
  WAR/WEB-INF/urlrewrite.xml
  WAR/WEB-INF/web.xml    -- basic web.xml  with session-timeout of 1 minute....and <security-constraint> </security-constraint>
                          -- welcome-file is index.jsp
                          <?xml version="1.0" encoding="UTF-8"?>
                          <web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee">
                            <welcome-file-list>
                              <welcome-file>index.jsp</welcome-file>
                            </welcome-file-list>
      
                            <display-name>This web app redirects users to here</display-name>
                            
                            <filter>
                              <filter-name>UrlRewriteFilter</filter-name>
                              <filter-class>org.tuckey.web.filters.urlrewrite.UrlRewriteFilter</filter-class>
                              <init-param>
                                <param-name>LogLevel</param-name>
                                <param-value>WARN</param-value>
                              </init-param>
                              
                            </filter>
                          
                            <filter-mapping>
                              <filter-name>UrlRewriteFilter</filter-name>
                              <url-pattern>/*</url-pattern>
                            </filter-mapping>
                            
                            <session-config>
                              <session-timeout>1</session-timeout>
                            </session-config>
                            
                            <security-constraint>
                              ...
                            </security-constraint>
                            
                          </web-app>
  WAR/WEB-INF/urlrewrite.xml


changed
