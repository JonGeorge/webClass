How to Add Embedded H2 Database to Your Project
-----------------------------------------------
Problem:   I am not using Spring but I want to use the embedded H2 Database
Solution:  Use org.springframework.jdbc.datasource.embedded.EmbeddedDatabase


Procedure
---------
 1. Add the maven dependencies

       <dependency>
        <groupId>com.h2database</groupId>
        <artifactId>h2</artifactId>
        <version>1.4.200</version>
      </dependency>

      <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-jdbc</artifactId>
        <version>5.2.12.RELEASE</version>/artifactId>
      </dependency>

 2. Create this class:  InMemoryDatabase
        package gov.dcsa.lpr;

        import org.springframework.jdbc.datasource.embedded.EmbeddedDatabase;
        import org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;
        import javax.sql.DataSource;


        import static org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType.H2;

        public class InMemoryDatabase {

            private DataSource dataSource;

            /**
             * Create and start-up the H2 database
             */
            public InMemoryDatabase() {
                EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();

                // Create and startup an embedded h2 database
                // NOTE:  EmbeddedDatabase extends the DataSource class (so we can use it to execute SLQ)
                EmbeddedDatabase embeddedDatabase = builder
                                .generateUniqueName(true)
                                .setType(H2)
                                .setScriptEncoding("UTF-8")
                                .build();

                this.dataSource = embeddedDatabase;
            }


            public DataSource getDataSource() {
                return this.dataSource;
            }
        }



 
 3. Use the class 
 
        // Create and startup the embedded h2 Database
        InMemoryDatabase inMemoryDatabase = new InMemoryDatabase();
        
        DataSource ds = inMemoryDatabase.getDataSource();

        JdbcTemplate jt = new JdbcTemplate(ds);
        String sql = "CREATE TABLE TEST(\n" +
                "    ID INT,\n" +
                "    NAME VARCHAR,\n" +
                "    LAST_MOD TIMESTAMP WITH TIME ZONE AS CURRENT_TIMESTAMP\n" +
                ")";
        jt.update(sql);
        
        
