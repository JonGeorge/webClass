How to Verify that Database Connections are Released on Web App Shutdown
------------------------------------------------------------------------


ASSUMPTIONS:
 A) You have a web app that uses a JDBC connection pool
 B) You can start and stop your webapp
 
 
Procedures
----------
 1. Startup your Mysql Database
    a. Press <Start><Run>Command Prompt -> Right-click on Command Prompt -> Run as administrator*
    b. In the DOS window, type-in this:
       DOS> net start mysql56
    
 2. Query the database to see the number of open connections
    a. Run Mysql Workbench
    b. Connect to you Mysql database
    c. Run this SQL:
       SQL> SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED;
       SQL> SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST; 
       
       You should see this:
       
       2   root    localhost:49189 world   Sleep   56      
       3   root    localhost:49190 world   Query   0   executing   SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST
 
 
 
  3. Startup your webapp on Tomcat
  
  
  
  4. Query the database to see the number of open connections 
     SQL> SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST; 
  
      2   root    localhost:49189 world   Sleep   11      
      3   root    localhost:49190 world   Query   0   executing   SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST
      4   root    localhost:49257 world   Sleep   4       
      
      
  
  
  5. Use the Tomcat Manager to *stop* your webapp
  
  
  6. Run the query again
     SQL> SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST; 
 