How to Debug a Spring MVC web application using Intellij, Maven, and the Cargo Plugin
-------------------------------------------------------------------------------------


Assumptions:  
 A) You have Intellij 14 Community Edition installed
 B) You have Maven installed
 C) Your Maven configuration can download files from a maven repository
 D) You want to use the Cargo maven plugin to run your local Tomcat
 E) You have Tomcat setup here:  C:\tools\apache-tomcat-7.0.55

 
 
Procedures
----------
 1. Create a Spring MVC Web App                 
    [see howToCreateSpringMvcWebApp_usingIntellijMaven_cargoPlugin.txt]

    DOS>  mvn clean install cargo:run
            will have your webapp deployed to your tomcat and startup Tomcat in debug mode
 

 2. Add jquery
    [see howToAddJQueryToSpringMvcAppUsingIntellij.txt] 
    


 3. Add Bootstrap
    [see howToAddBootstrapToSpringMvcUsingIntellij.txt]
    
    
  
 4. Add Angular 
    [see howToAddAngularToSpringMvcWebApp.txt]

    
 
 5. Add DataTables.net
    [see learnDataTablesNet/howToAddDataTablesNetToSpringMvcWebApp.txt]
    
    
 
 6. Add SiteMesh (to act as a layout mechanism for the web app)
    [see howToAddSiteMeshToSpringMvcWebApp.txt]
    
    
 7. Place your stdHeader.jsp, stdFooter.jsp, and stdJspIncludes.jsp into the layout.jsp
    a. Edit your WEB-INF/jsp/layout.jsp so it looks like this:
 
        <%@ page session="false" language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1" %>
        <%@ taglib prefix='c'      uri='http://java.sun.com/jsp/jstl/core' %>
        <%@ taglib prefix='spring' uri='http://www.springframework.org/tags' %>
        <%@ taglib prefix='form'   uri='http://www.springframework.org/tags/form' %>
        
        <%-- Allow all JSPs to have the contextPath variable --%>
        <c:set var="contextPath" value="${pageContext.request.contextPath}" />
        
        <!DOCTYPE HTML>
        <html>
        <head>
            <title><sitemesh:write property='title'/></title>        
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
            <%-- Load Bootstrap CSS --%>
            <link href="${contextPath}/resources/bootstrap-3.3.4/css/bootstrap.min.css" rel="stylesheet" media="screen">
        
            <%-- Load Bootstrap CSS Themes --%>
            <link href="${contextPath}/resources/bootstrap-3.3.4/css/bootstrap-theme.min.css" rel="stylesheet" media="screen">
        
            <%-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --%>
            <!--[if lt IE 9]>
              <script src="${contextPath}/resources/bootstrap-3.3.4/assets/html5shiv.js"></script>
              <script src="${contextPath}/resources/bootstrap-3.3.4/assets/respond.min.js"></script>
            <![endif]-->
        
            <link rel="stylesheet" href="${contextPath}/resources/DataTables-1.10.9/media/css/jquery.dataTables.min.css?compile=false"  />
            
            <%-- P A G E      H E A D    S E C T I O N  --%>
            <sitemesh:write property='head'/>
        </head>
           <body>
                <%-- Standard Header is here  --%>
                <%@ include file="/WEB-INF/jsp/stdHeader.jsp" %>
        
                <%-- P A G E     B O D Y     --%>
                <sitemesh:write property='body'/>
        
                <%-- Standard Footer is here --%>
                <%@ include file="/WEB-INF/jsp/stdFooter.jsp" %>
        
                <%-- Load jQuery --%>
                <script src="${contextPath}/resources/jquery-1.11.3/jquery-1.11.3.min.js" type="text/javascript"></script>
        
                <%-- Load bootstrap copmiled plugins --%>
                <script src="${contextPath}/resources/bootstrap-3.3.4/js/bootstrap.min.js" type="text/javascript"></script>
        
                <%-- Load Angular --%>
                <script src="${contextPath}/resources/angular-1.3.16/angular.min.js" type="text/javascript"></script>
                
                <%-- Load DataTables.net --%>       
                <script src="${contextPath}/resources/DataTables-1.10.9/media/js/jquery.dataTables.min.js?compile=false" type="text/javascript" ></script>
           </body>
        </html>
    
    
    
    b. Edit your WEB-INF/jsp/welcome.jsp so it looks like this:
    
        <html>
        
        <head>
            <title>Welcome Page</title>
        </head>
        
        <body>
            <h2>welcome.jsp</h2>
        
            <br/>
        
            Hello ${userInfo.userName} <br/>
            Are you an administrator: ${userInfo.isAdministrator }
        
            Table is here
            <table id="position" class="display"></table>
        
            <br/>
            <br/>
        
                <script type="text/javascript">
        
                        var myDataSet =
                        [
                                [ "Person 1", "Person 1's position"],
                                [ "Person 2", "Person 2's position"],
                                [ "Person 3", "Person 3's position"],
                                [ "Person 4", "Person 4's position"],
                                [ "Person 5", "Person 5's position"],
                                [ "Person 6", "Person 6's position"],
                                [ "Person 7", "Person 7's position"],
                                [ "Person 8", "Person 8's position"],
                                [ "Adam", "System Architect"],
                                [ "Ben", "Mgmt Consultant"],
                                [ "Peter", "Doctor"],
                                [ "Justin", "Psychologist"],
                                [ "Joel", "Policy Analyst"]
                        ];
        
        
                        $(document).ready( function ()
                        {
        
                            $('#position').DataTable(
                            {
                                data:   myDataSet,
                                columns: [
                                    { title: "Name" },
                                    { title: "Position" }
                                ]
                             } );
        
                        } );
        
                 </script>
        
        </body>
        </html>    
    
    
    c. Delete this file:  /WEB-INF/jsp/stdJspIncludes.jsp 
    
       
 
 8. Add a Bootstrap menubar to the main layout template  (so it appears on every page)
        
 
 
 9. Setup JAWR to bundle and minify JS and CSS files 
    [see howToBundleJsAndCssUsingJawr.txt]
    INCOMPLETE
    
 

10. Add a DataSource spring bean
    INCOMPLETE
 
 
 
11. Setup a rolling log appender when running in production mode
    INCOMPLETE  
  


12. Setup an error controller and error page  
    INCOMPLETE  
  
   

13. Setup security with a login page, logout page, and a Security Filter
    INCOMPLETE


   
14. Externalize the web app's property file
    INCOMPLETE



15. Add a new page with an openLayers map on it
    INCOMPLETE



16. Use Angular to make an AJAX call to get data and dispaly it using dataTables.net
    INCOMPLETE


  
17. Use Angular to display a new view 
    INCOMPLETE
