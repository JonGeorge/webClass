Lesson:  Add Report Page
------------------------
We want to have a dialog box appear when a user presses a button
And, then determine course of action if the user pressed OK or Cancel


Procedure
---------
 1. Create a simple "Add Report" page with text boxes and dropdowns

        <div class="feature">

            <header layout="row" layout-align="space-between center">
                <!-- Page Title -->
                <div class="md-headline"><i class="fas fa-file-alt"></i> Add Reports</div>
            </header>


            <pre>
                addReportVM.new={{ addReportVM.new | json}}
            </pre>

            <!-- Progress bar -->
            <div class="progressBarWrapper">
                <md-progress-linear ng-show="addReportVM.dataIsLoading" md-mode="indeterminate"></md-progress-linear>
            </div>

            <div layout="row" style="margin-top: 20px">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Display Name</label>
                    <input placeholder="Enter Display Name" data-ng-model="addReportVM.new.display_name">
                </md-input-container>
            </div>

            <div layout="row">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Priority</label>
                    <md-select placeholder="Select Priority" name="priority" ng-model="addReportVM.new.priority">
                        <md-option ng-value="lookup" ng-repeat="lookup in addReportVM.lookupData.priority track by lookup.id">{{lookup.name}}</md-option>
                    </md-select>
                </md-input-container>
            </div>

            <div layout="row">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Priority</label>
                    <md-select placeholder="Select Report Type" name="report_type" ng-model="addReportVM.new.report_type">
                        <md-option ng-value="lookup" ng-repeat="lookup in addReportVM.lookupData.report_type track by lookup.id">{{lookup.name}}</md-option>
                    </md-select>
                </md-input-container>
            </div>

            <div layout="row" layout-align="center">

                <!-- Clear Button -->
                <md-button class="md-primary md-raised" data-ng-click="addReportVM.clearReport()" aria-label="Clear Report Fields">
                    <md-icon class="fas fa-backspace"></md-icon>
                    <md-tooltip="Clear Report"></md-tooltip>
                    Clear
                </md-button>


                <!-- Add Report Button -->
                <md-button class="md-primary md-raised" data-ng-click="addReportVM.addReport()" aria-label="Add Report">
                    <md-icon class="fas fa-plus"></md-icon>
                    <md-tooltip="Add a Report"></md-tooltip>
                    Add Report
                </md-button>
            </div>

        </div>


 2. Setup main.controller.js for the "Add Report" page

        (function(){
            angular.module('app.features')
                .controller('addReport', ['$timeout', '$stateParams', '$scope', 'lookupMap', Callback])

            function Callback($timeout, $stateParams, $scope, lookupMap) {
                console.log('addReport controller started.  lookupMap=', lookupMap);

                let addReportVM = this;

                window.document.title = "Add Report | APP1";

                // $scope.lookupData holds a map of lookup info
                // $scope.lookupData.priority holds a list of LookupDTO for the priorities
                // $scope.lookupData.report_type holds a list of LookupDTOs for the report types
                addReportVM.lookupData = lookupMap;

                addReportVM.addReport = addReport;
                addReportVM.clearReport = clearReport;


                // Clear-out the report fields on page load
                clearReport();

                addReportVM.$onInit = function() {
                    console.log('addReport onInit() started.');
                    console.log('addReport onInit() finished.');
                };

                console.log('addReport controller finished.');


                function addReport() {
                    console.log('addReport() started.');
                }

                function clearReport() {
                    console.log('clearReport() started.');
                    addReportVM.new = { };
                }

            }
        })();



 1. Fill-in the "Add Report" page so that it has a name, priority, ...

 2. Add a "Save" button it

 3. Pressing the "Add Report" button causes a popup to appear with a prompt:
      Are you sure you want to add this report?
      Yes, No

      Press "Yes"
        1) calls the ReportsFactory.add() method
        2) Upon success of the REST call, clears-out the fields

      Pressing "No" causes the forms to be cleared out

 4. Verify it works


